<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Helios </title>
		<link rel="stylesheet" href="assets/css/bootstrap.min.css?2019827" />
		<link rel="stylesheet" href="assets/css/global.css?2019827" />
		<!-- Font Awesome -->
		<link rel="stylesheet" href="assets/css/font-awesome.min.css?2019827" />
		<!-- Theme style -->
		<link rel="stylesheet" href="assets/css/AdminLTE.min.css?2019827" />
		<link rel="stylesheet" href="assets/css/skins/skin-black.min.css?2019827" />
		<link rel="stylesheet" href="assets/css/index.css?2019827">
	</head>
	<style>
		.viswCard span {
	color: #fff;
	margin-right: 0px;
	}
	.box-header .el-button--mini, .el-button--mini.is-round {
		padding: 1px 3px;
		color: #fff;
	   vertical-align: middle;
	}
	.el-input{
		vertical-align: middle;
	}
	.label-text-vm {
	    text-align: left;
	}
	.col-sm-4 {
	    margin: 10px 0;
	}
	
	.row .label {
	      display: inline-block;
	      width: 18px;
	      height: 18px;
	      vertical-align: middle;
	}
	
	.list-group{
		margin-bottom: 0px;
	}
</style>

	<body>
		 
		<div class="wrapper" id="content" style="background:#f1f4f6; margin-top: 10px;">

			<div class="col-md-12" style="padding-left: 0px;">
				<div class="row">
					<!-- 设备信息 -->
					<div class="col-md-6">
						<div class="box box-primary">
							<div class="box-body box-profile" style="padding-top:22px ;">
								
								<div class="profile-user-img img-responsive img-circle" >
									<span class="icon iconfont icon-caijishebeixinxichaxun"></span>
								</div>
								
								<p>&nbsp;</p>
								<ul class="list-group list-group-unbordered">
									<li class="list-group-item">
										<span class="icon iconfont icon-bianhao"></span>Equipment  number  <a class="pull-right">{{Equipment["53"]}}</a>
									</li>
									<li class="list-group-item">
										<span class="icon iconfont icon-wendu1"></span>Equipment temperature   <a class="pull-right">{{Equipment["51"]}}</a>
									</li>
								</ul>
							</div>
							<!-- /.box-body -->
						</div>
					</div>
					<!-- 设备信息 -->

					<!--  ROC start-->
					<div class="col-md-6">
						<div class="box">
							<table class="table table-hover">
								<tbody>
									<tr>
										<th>ROC Type</th>
										<th>UL Output Power</th>
										<th>DL Input Power</th>
									</tr>

									<tr v-for="(v,i) in rocData['length']">
										<td>ROC {{i+1}} </td>
										<td>{{rocData["6"][i]}}</td>
										<td>{{rocData["7"][i]}}</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<!--  ROC end-->
				</div>
				<div class="row">
					<!--  Alarm start-->
					<div class="col-md-6">
						<!--  v-if="equipment=='au'" -->
						<div class="box">
							<div class="box-header with-border">
								<h3 class="box-title"><span class=" icon iconfont icon-shebeigaojing"></span>  Alarm</h3>
							</div>

							<div class="row">
								<div class="col-sm-4 ">
									<div class="description-block border-right">
										<h5 class="description-header">Door Open <span class="label bg-olive">&nbsp;</span></h5>
									</div>
								</div>
								<div class="col-sm-4 ">
									<div class="description-block border-right">
										<h5 class="description-header">AC Power Off <span class="label bg-olive">&nbsp;</span></h5>

									</div>
								</div>
								<div class="col-sm-4">
									<div class="description-block border-right">
										<h5 class="description-header">DC Power Off <span class="label bg-olive">&nbsp;</span></h5>

									</div>
								</div>
								<div class="col-sm-4">
									<div class="description-block border-right">
										<h5 class="description-header">Over Temp <span class="label bg-olive">&nbsp;</span></h5>

									</div>
								</div>


								<div class="col-sm-4">
									<div class="description-block border-right">
										<h5 class="description-header">Out Sync 1 <span class="label bg-olive">&nbsp;</span></h5>

									</div>
								</div>

								<div class="col-sm-4">
									<div class="description-block border-right">
										<h5 class="description-header">Out Sync 2 <span class="label bg-olive">&nbsp;</span></h5>

									</div>
								</div>

								<div class="col-sm-4">
									<div class="description-block border-right">
										<h5 class="description-header">Out Sync 3 <span class="label bg-olive">&nbsp;</span></h5>

									</div>
								</div>

								<div class="col-sm-4">
									<div class="description-block border-right">
										<h5 class="description-header">Out Sync 4 <span class="label bg-olive">&nbsp;</span></h5>

									</div>
								</div>

								<div class="col-sm-4">
									<div class="description-block border-right">
										<h5 class="description-header">Light Fault 1 <span class="label bg-olive">&nbsp;</span></h5>

									</div>
								</div>
								<div class="col-sm-4">
									<div class="description-block border-right">
										<h5 class="description-header">Light Fault 2 <span class="label bg-olive">&nbsp;</span></h5>

									</div>
								</div>
								<div class="col-sm-4">
									<div class="description-block border-right">
										<h5 class="description-header">Light Fault 3 <span class="label bg-olive">&nbsp;</span></h5>

									</div>
								</div>
								<div class="col-sm-4">
									<div class="description-block border-right">
										<h5 class="description-header">Light Fault 4 <span class="label alert-danger">&nbsp;</span></h5>

									</div>
								</div>

								<div class="col-sm-4">
									<div class="description-block border-right">
										<h5 class="description-header">DL I/P Under PWR <span class="label alert-danger">&nbsp;</span></h5>

									</div>
								</div>

								<div class="col-sm-4">
									<div class="description-block border-right">
										<h5 class="description-header">DL I/P Over PWR <span class="label alert-danger">&nbsp;</span></h5>

									</div>
								</div>

							</div>
						</div>

					</div>
					<!--  Alarm end-->
					<!--  Light start-->
					<div class="col-md-6">
						<div class="box">
							<div class="box-header with-border">
								<h3 class="box-title">Optical </h3>
								<div class="box-tools pull-right" style="top: 9px;">
									<span class="iconfont icon-jizhan-nomal"></span>
								</div>
							</div>
							<table class="table table-hover">
								<tbody>
									<tr>
										<th>Optical Type</th>
										<th>Tx Power</th>
										<th>Rx Power</th>
									</tr>
									<tr v-for="(v,i) in optical['length']">
										<td>Optical {{i+1}} </td>
										<td>{{optical["s"][i]}}</td>
										<td> {{optical["f"][i]}}</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<!--  Light end-->
				</div>
				<!-- Alarm end -->
				<!-- /.nav-tabs-custom -->
			</div>

		</div>
		<script type="text/javascript" src="assets/js/jquery.js"></script>
		<script type="text/javascript" src="assets/js/vue.js"></script>
		<script type="text/javascript" src="assets/js/index.js"></script>
		<script type="text/javascript" src="assets/js/comment.js"></script>

		<style scoped>

		</style>
		<script type="text/javascript">
			var helios;
			let data = {
				equipment: sessionStorage.getItem("equipment"),
				form: {
					name: '1111111',
					delivery: false,
					type: [],
					resource: '',
					desc: ''
				},
				alamr: [],
				//接收数据
				rocData: {}, //ROC模块
				optical: {}, //光模块
				Equipment: {} //设备信息
			};
			let getajax = {
				//ROT START
				roc() {
					var obj1 = [6, 7];
					var obj = {
						"data": obj1.join(),
						"action": "READ"
					}
					util.getattrajax(obj, function(data) {
						var data = data.data;
						console.log(data);
						var length;
						var getdata = new Object;
						for (var i = 0; i < data.length; i++) {
							if (data[i].adr == obj1[i]) {
								getdata[obj1[i]] = data[i].value.split(",");
								length = data[i].value.split(",").length;
							}
						}
						getdata.length = length;
						helios.rocData = getdata;
					})
					
				},
				//optical start
				optical() {
					var obj1 = [70, 71, 72, 73, 74, 75, 76, 77];
					var obj = {
						"data": obj1.join(),
						"action": "READ"
					}
					util.getattrajax(obj, function(data) {
						var data = data.data;

						var getdata = new Object;
						for (var i = 0; i < data.length; i++) {
							if (data[i].adr == obj1[i]) {
								getdata[obj1[i]] = data[i].value;
							}
						}
						getdata["s"] = [getdata[70], getdata[71], getdata[72], getdata[73]];
						getdata["f"] = [getdata[74], getdata[75], getdata[76], getdata[77]];
						getdata["length"] = getdata["f"].length;

						helios.optical = getdata;
					})
				},
				Equipment() {
					var obj1 = [51, 53];
					var obj = {
						"data": obj1.join(),
						"action": "READ",
					}
					util.getattrajax(obj, function(data) {
						
						
						var data = (data.data);
						
						var getdata = new Object;
						for (var i = 0; i < data.length; i++) {
							if (data[i].adr == obj1[i]) {
								if (data[i].value == "") {
									getdata[obj1[i]] = "Empty data"
								} else {
									getdata[obj1[i]] = data[i].value;
								}
							}
						}
						helios.Equipment = getdata
					});
				}

			}
			helios = new Vue({
				el: "#content",
				data: data,

				created: function() {

				},
				mounted() {
					$("body").resize();
					getajax.roc();
					getajax.optical();
				    getajax.Equipment();
					 
				},

				updated() {
					// console.log("==更新成功==");
					//console.log(this.$data);
				},

				methods: {

				},

			})
		</script>
	</body>
</html>
